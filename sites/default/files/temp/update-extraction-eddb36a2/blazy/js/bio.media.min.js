!function(t,e){"use strict";"function"==typeof define&&define.amd?define([window.dBlazy,window.Bio],e):"object"==typeof exports?module.exports=e(window.dBlazy,window.Bio):t.BioMedia=e(window.dBlazy,window.Bio)}(this,function(t,e){"use strict";var a=t,o=e,s="src",u="srcset",c="data-src",d="data-src",l="data-srcset",r=[s],p=[u,s];function i(t){return o.apply(this,arguments)}var n,f,e=i.prototype=Object.create(e.prototype);return e.constructor=i,e.prepare=(n=e.prepare,function(){var e,o=this;return o.options.breakpoints&&(e=[],a.forEach(o.options.breakpoints,function(t){if(r.push(t.src.replace("data-","")),t.width>=o.windowWidth)return c=t.src,e.push(c),!1}),0<e.length&&(c=e[0])),n.call(this)}),e.lazyLoad=(f=e.lazyLoad,function(t){if(!t.hasAttribute("data-bio-hit")){var e=this,o=t.parentNode,i=a.equal(t,"img"),r=void 0===t.src&&t.classList.contains(e.options.bgClass),n=o&&a.equal(o,"picture"),o=a.equal(t,"video");return n?(a.setAttrsWithSources(t,u,!0),a.setAttr(t,s,!0),e.loaded(t,e._ok)):o?(a.setAttrsWithSources(t,s,!0),t.load(),e.loaded(t,e._ok)):i||r?e.setImage(t,r):t.getAttribute(d)&&t.hasAttribute(s)&&(a.setAttr(t,s,!0),e.loaded(t,e._ok)),t.setAttribute("data-bio-hit",1),f.apply(this,arguments)}}),e.promise=function(r,n){var s=this;return new Promise(function(t,e){function o(){n?s.setBg(r):a.setAttrs(r,p,!1)}var i=new Image;i.onload=function(){o(),t(s._ok)},i.onerror=function(){o(),e(s._er)},i.src=r.getAttribute(n?c:d),r.hasAttribute(l)&&(i.srcset=r.getAttribute(l))})},e.setImage=function(e,o){var i=this;return i.promise(e,o).then(function(t){i.loaded(e,t),a.removeAttrs(e,o?r:p)}).catch(function(t){i.loaded(e,t),e.removeAttribute("data-bio-hit")}).finally(function(){a.trigger(e,"bio.finally",{options:i.options})})},e.setBg=function(t){t.hasAttribute(c)&&(t.style.backgroundImage='url("'+t.getAttribute(c)+'")',t.removeAttribute(s))},i});
